!function(e){"use strict";var a=a||{};a.init=function(){a.$body=e(document.body),a.$window=e(window),a.$header=e("#masthead"),a.ajaxXHR=null,this.scrollTop(),this.preload(),this.parallax(),this.toffedassenToggleClass(),this.photoSwipe(),this.canvasPanel(),this.menuSideBar(),this.instanceSearch(),this.toggleModal(),this.menuHover(),this.stickyHeader(),this.headerCss(),this.blogLayout(),this.shopView(),this.shopLoadingAjax(),this.viewPort(),this.showFilterContent(),this.filterAjax(),this.productQuantity(),this.addWishlist(),this.showAddedToCartNotice(),this.tooltip(),this.productQuickView(),this.productAttribute(),this.filterScroll(),this.resizeProductGallery(),this.productThumbnail(),this.productGalleryCarousel(),this.productvariation(),this.singleProductCarousel(),this.productImagesLightbox(),this.stickyProductSummary(),this.loginTab(),this.addToCartAjax(),this.portfolioMasonry(),this.portfolioLoadingAjax(),this.portfolioCarousel()},a.toffedassenToggleClass=function(){a.$window.on("resize",function(){var o=e("#content").width(),t=0;a.$window.width()<=1600&&e(".menu-extra li.menu-item-search").removeAttr("id"),o>1170&&(t=(o-1170)/2),e(".portfolio-carousel .swiper-container").css({"margin-right":-1*t,"margin-left":-1*t,"padding-right":t,"padding-left":t}),e(".portfolio-carousel .swiper-button-prev").css({left:t-62}),e(".portfolio-carousel .swiper-button-next").css({right:t-62}),"1"!==toffedassenData.isRTL&&e(".toffedassen-right-offset").css({"margin-right":-1*t})}).trigger("resize")},a.resizeProductGallery=function(){a.$body.hasClass("single-product-layout-6")&&(a.$window.width()<=991||a.$window.on("resize",function(){var a=e("#content").width(),o=0;a>1170&&(o=(a-1170)/2),e(".toffedassen-single-product-detail").find(".woocommerce-product-gallery").css({"margin-right":-1*o})}).trigger("resize"))},a.scrollTop=function(){var o=e("#scroll-top");a.$window.scroll(function(){a.$window.scrollTop()>a.$window.height()?o.addClass("show-scroll"):o.removeClass("show-scroll")}),o.on("click",function(a){a.preventDefault(),e("html, body").stop().animate({scrollTop:0},800)})},a.preload=function(){var o=e("#preloader"),t=!1;o.length&&(a.$body.on("click","a",function(){t=!1,e(this).hasClass("sp-without-preloader")&&(t=!0)}),a.$window.on("beforeunload",function(e){t||o.removeClass("out").fadeIn(500,function(){o.addClass("loading")})}),a.$window.on("pageshow",function(){o.fadeOut(100,function(){o.addClass("out loading")})}),a.$window.on("beforeunload",function(){o.fadeIn("slow")}),NProgress.start(),a.$window.on("load",function(){NProgress.done(),o.fadeOut(800)}))},a.parallax=function(){a.$window.width()<1200||(e(".page-header.parallax .feature-image").parallax("50%",.6),e(".toffedassen-sale-product.parallax").parallax("50%",.6))},a.photoSwipe=function(){var a=e(".toffedassen-photo-swipe");if(a.length){var o=a.find("a.photoswipe"),t=[];o.each(function(){var a=e(this),o=a.attr("data-width"),i=a.attr("data-height");t.push({src:a.attr("href"),w:o,h:i})}),a.on("click","a.photoswipe",function(a){a.preventDefault();var i=o.index(e(this)),n={index:i,bgOpacity:.85,showHideOpacity:!0,mainClass:"pswp--minimal-dark",barsSize:{top:0,bottom:0},captionEl:!1,fullscreenEl:!1,shareEl:!1,tapToClose:!0,tapToToggleControls:!1};new PhotoSwipe(document.getElementById("pswp"),window.PhotoSwipeUI_Default,t,n).init()})}},a.canvasPanel=function(){a.$header.on("click",".cart-contents",function(o){o.preventDefault(),a.openCanvasPanel(e("#cart-panel"))}),"1"==toffedassenData.open_cart_mini&&e(document.body).on("added_to_cart",function(){a.openCanvasPanel(e("#cart-panel"))}),a.$header.on("click","#icon-menu-sidebar",function(o){o.preventDefault(),a.openCanvasPanel(e("#menu-sidebar-panel"))}),a.$header.on("click","#icon-menu-mobile",function(o){o.preventDefault(),a.openCanvasPanel(e("#menu-sidebar-panel"))}),a.$body.on("click","#off-canvas-layer, .close-canvas-panel",function(e){e.preventDefault(),a.closeCanvasPanel()})},a.openCanvasPanel=function(e){a.$body.addClass("open-canvas-panel"),e.addClass("open")},a.closeCanvasPanel=function(){a.$body.removeClass("open-canvas-panel"),e(".toffedassen-off-canvas-panel, #primary-mobile-nav, .catalog-sidebar, .woocommerce-products-header").removeClass("open")},a.menuSideBar=function(){e("#menu-sidebar-panel").find(".menu .menu-item-has-children > a").prepend('<span class="toggle-menu-children"><i class="icon-plus"></i> </span>'),e("#menu-sidebar-panel").find("li.menu-item-has-children > a").on("click",function(a){a.preventDefault(),e(this).closest("li").siblings().find("ul.sub-menu, ul.dropdown-submenu").slideUp(),e(this).closest("li").siblings().removeClass("active"),e(this).closest("li").children("ul.sub-menu, ul.dropdown-submenu").slideToggle(),e(this).closest("li").toggleClass("active")})},a.instanceSearch=function(){function o(){var a=r.val(),o="";if(n.find(".product-cats").length>0&&(o=n.find(".product-cats input:checked").val()),a.length<2)return void n.removeClass("searching searched actived found-products found-no-product").addClass("invalid-length");n.removeClass("found-products found-no-product").addClass("searching");var s=a+o;if(s in i){var l=i[s];n.removeClass("searching"),n.addClass("found-products"),d.find(".woocommerce").html(l.products),e(document.body).trigger("toffedassen_ajax_search_request_success",[d]),d.find(".woocommerce, .buttons").slideDown(function(){n.removeClass("invalid-length")}),n.addClass("searched actived")}else t=e.ajax({url:toffedassenData.ajax_url,dataType:"json",method:"post",data:{action:"toffedassen_search_products",nonce:toffedassenData.nonce,term:a,cat:o,search_type:toffedassenData.search_content_type},success:function(a){var o=a.data;n.removeClass("searching"),n.addClass("found-products"),d.find(".woocommerce").html(o),d.find(".woocommerce, .buttons").slideDown(function(){n.removeClass("invalid-length")}),e(document.body).trigger("toffedassen_ajax_search_request_success",[d]),i[s]={found:!0,products:o},n.addClass("searched actived")}})}if("0"!==toffedassenData.ajax_search){var t=null,i={},n=e(".search-modal"),s=n.find("form"),r=s.find("input.search-field"),d=n.find(".search-results");n.on("keyup",".search-field",function(e){var a=!1;void 0===e.which?a=!0:"number"==typeof e.which&&e.which>0&&(a=!e.ctrlKey&&!e.metaKey&&!e.altKey),a&&(t&&t.abort(),o())}).on("change",".product-cats input",function(){t&&t.abort(),o()}).on("focusout",".search-field",function(){r.val().length<2&&n.removeClass("searching searched actived found-products found-no-product invalid-length")}),function(){if(!a.$body.hasClass("header-layout-3")&&!a.$body.hasClass("header-layout-5")){var o=e(".search-modal"),t=o.find("input.search-field");o.length<=0||(a.$window.on("scroll",function(){a.$window.scrollTop()>10&&o.removeClass("show found-products searched")}),e(document).on("click",function(a){var t=a.target;e(t).closest(".extra-menu-item").hasClass("menu-item-search")||o.removeClass("searching searched found-products found-no-product invalid-length")}),o.on("click",".t-icon",function(e){o.hasClass("actived")&&(e.preventDefault(),t.val(""),o.removeClass("searching searched actived found-products found-no-product invalid-length"))}))}}()}},a.toggleModal=function(){a.$body.on("click",".menu-extra-search",function(o){o.preventDefault(),a.openModal(e(".search-modal")),e(this).addClass("show")}),a.$body.on("click","#toffedassen-newsletter-icon",function(o){o.preventDefault(),a.openModal(e("#footer-newsletter-modal")),e(this).addClass("hide")}),a.$body.on("click","#menu-extra-login",function(o){o.preventDefault(),a.openModal(e("#login-modal")),e(this).addClass("show")}),a.$body.on("click",".close-modal",function(e){e.preventDefault(),a.closeModal()})},a.menuHover=function(){var a={none:["show","hide"],fade:["fadeIn","fadeOut"],slide:["slideDown","slideUp"]},o=toffedassenData.menu_animation?a[toffedassenData.menu_animation]:"fade";e(".primary-nav li, .menu-extra li.menu-item-account").on("mouseenter",function(){e(this).addClass("active").children(".dropdown-submenu").stop(!0,!0)[o[0]]()}).on("mouseleave",function(){e(this).removeClass("active").children(".dropdown-submenu").stop(!0,!0)[o[1]]()})},a.stickyHeader=function(){a.$body.hasClass("header-sticky")&&(a.$body.hasClass("header-left-sidebar")||a.$body.hasClass("page-template-template-coming-soon-page")||(a.$window.on("scroll",function(){var o,t=20,i=a.$window.scrollTop(),n=a.$header.outerHeight(!0);a.$body.hasClass("topbar-enable")&&(o=e(".topbar").outerHeight(!0),a.$window.width()<1200&&(o=e(".topbar-mobile").outerHeight(!0)),t=t+o+n),i>t?(a.$header.addClass("minimized"),e("#su-header-minimized").addClass("minimized")):(a.$header.removeClass("minimized"),e("#su-header-minimized").removeClass("minimized"))}),a.$window.on("resize",function(){var o=a.$header.outerHeight(!0),t=e("#su-header-minimized");a.$body.hasClass("header-transparent")||t.height(o)}).trigger("resize")))},a.headerCss=function(){if(a.$body.hasClass("topbar-enable")&&!a.$body.hasClass("header-left-sidebar")&&!a.$body.hasClass("page-template-template-coming-soon-page")){var o=e(".header-transparent .site-header"),t=0;a.$body.hasClass("admin-bar")&&(t=32),a.$window.on("resize",function(){var i=e(".topbar").outerHeight(!0);a.$window.width()<1200&&(i=e(".topbar-mobile").outerHeight(!0)),o.css("top",t+i)}).trigger("resize"),a.$window.on("scroll",function(){var i,n=a.$window.scrollTop(),s=a.$header.outerHeight(!0),r=e(".topbar").outerHeight(!0);a.$window.width()<1200&&(r=e(".topbar-mobile").outerHeight(!0)),i=20+r+s,n>i?o.css("top",t):o.css("top",t+r)})}},a.openModal=function(e){a.$body.addClass("modal-open"),e.fadeIn(),e.addClass("open")},a.closeModal=function(){a.$body.removeClass("modal-open"),e(".toffedassen-modal").fadeOut(function(){a.$body.find(".menu-extra-search, #menu-extra-login").removeClass("show"),e("#toffedassen-newsletter-icon").removeClass("hide"),e(this).removeClass("open")})},a.blogLayout=function(){if(a.$body.hasClass("blog-masonry")){var e=a.$body.find(".toffedassen-post-list");e.imagesLoaded(function(){e.isotope({itemSelector:".blog-wrapper",percentPosition:!0,masonry:{columnWidth:".blog-masonry-sizer",gutter:".blog-gutter-sizer"}})})}},a.showFilterContent=function(){var o=e("#un-shop-topbar");a.$window.on("resize",function(){o.find(".widget-title").next().removeAttr("style")}).trigger("resize"),a.$body.hasClass("filter-mobile-enable")&&a.$window.width()<1200?a.$body.find(".shop-toolbar #toffedassen-catalog-filter-mobile").on("click","a",function(o){o.preventDefault(),e(this).toggleClass("active"),a.$body.toggleClass("show-filters-content-mobile open-canvas-panel"),a.$body.hasClass("full-content")?e(".woocommerce-products-header").addClass("open"):e(".catalog-sidebar").addClass("open")}):a.$body.find(".shop-toolbar #toffedassen-catalog-filter").on("click","a",function(t){t.preventDefault(),e(this).toggleClass("active"),o.slideToggle(),o.toggleClass("active"),a.$body.toggleClass("show-filters-content")})},a.filterAjax=function(){a.$body.hasClass("catalog-ajax-filter")&&(a.$body.on("price_slider_change",function(a,o){var t=e(".price_slider").closest("form").get(0),i=e(t),n=i.attr("action")+"?"+i.serialize();e(document.body).trigger("toffedassen_catelog_filter_ajax",n,e(this))}),a.$body.on("click","#remove-filter-actived",function(a){a.preventDefault();var o=e(this).attr("href");e(document.body).trigger("toffedassen_catelog_filter_ajax",o,e(this))}),a.$body.find("#toffedassen-shop-toolbar").find(".woocommerce-ordering").on("click","a",function(a){a.preventDefault(),e(this).addClass("active");var o=e(this).attr("href");e(document.body).trigger("toffedassen_catelog_filter_ajax",o,e(this))}),a.$body.find("#un-shop-topbar, .catalog-sidebar").on("click","a",function(a){var o=e(this).closest(".widget");if(o.hasClass("widget_product_tag_cloud")||o.hasClass("widget_product_categories")||o.hasClass("widget_layered_nav_filters")||o.hasClass("widget_layered_nav")||o.hasClass("product-sort-by")||o.hasClass("toffedassen-price-filter-list")){a.preventDefault(),e(this).closest("li").addClass("chosen");var t=e(this).attr("href");e(document.body).trigger("toffedassen_catelog_filter_ajax",t,e(this))}o.hasClass("widget_product_tag_cloud")&&e(this).addClass("selected"),o.hasClass("product-sort-by")&&e(this).addClass("active")}),a.$body.on("toffedassen_catelog_filter_ajax",function(o,t,i){var n=e("#toffedassen-shop-content"),s=e("#primary-sidebar"),r=e("#un-shop-topbar"),d=e("#toffedassen-shop-toolbar"),l=e(".shop-toolbar .woocommerce-ordering"),c=e(".shop-toolbar .product-found"),f=e(".page-header-catalog");if(d.length>0){var p=d.offset().top-200;e("html, body").stop().animate({scrollTop:p},1200)}e(".toffedassen-catalog-loading").addClass("show"),"?"==t.slice(-1)&&(t=t.slice(0,-1)),t=t.replace(/%2C/g,","),history.pushState(null,null,t),e(document.body).trigger("toffedassen_ajax_filter_before_send_request",[t,i]),a.ajaxXHR&&a.ajaxXHR.abort(),a.ajaxXHR=e.get(t,function(o){var i=e(o).find("#toffedassen-shop-content").length>0?e(o).find("#toffedassen-shop-content").html():"";n.html(i),s.html(e(o).find("#primary-sidebar").html()),r.html(e(o).find("#un-shop-topbar").html()),e(o).find(".shop-toolbar .woocommerce-ordering").length>0&&l.html(e(o).find(".shop-toolbar .woocommerce-ordering").html()),c.html(e(o).find(".shop-toolbar .product-found").html()),f.html(e(o).find("#page-header-catalog").html()),a.priceSlider(),e(".toffedassen-catalog-loading").removeClass("show"),e(document.body).trigger("toffedassen_ajax_filter_request_success",[o,t])},"html")}))},a.productQuantity=function(){a.$body.on("click",".quantity .increase, .quantity .decrease",function(a){a.preventDefault();var o=e(this),t=o.siblings(".qty"),i=parseInt(t.attr("step"),10),n=parseInt(t.val(),10),s=parseInt(t.attr("min"),10),r=parseInt(t.attr("max"),10);s=s||1,r=r||n+1,o.hasClass("decrease")&&n>s&&(t.val(n-i),t.trigger("change")),o.hasClass("increase")&&n<r&&(t.val(n+i),t.trigger("change"))})},a.shopView=function(){e("#toffedassen-shop-view").on("click","a",function(o){o.preventDefault();var t=e(this),i=t.data("view");t.hasClass("current")||(t.addClass("current").siblings().removeClass("current"),a.$body.removeClass("shop-view-grid shop-view-list").addClass("shop-view-"+i),document.cookie="shop_view="+i+";domain="+window.location.host+";path=/")})},a.shopLoadingAjax=function(){a.$body.on("click","#toffedassen-shop-infinite-loading a.next",function(o){if(o.preventDefault(),!e(this).data("requestRunning")){e(this).data("requestRunning",!0);var t=e(this).closest(".woocommerce-pagination").prev(".products"),i=e(this).closest(".woocommerce-pagination"),n=e(this).parents("#toffedassen-shop-infinite-loading");n.addClass("loading"),e.get(e(this).attr("href"),function(o){var s=e(o).find("ul.products").children("li.product"),r=e(o).find(".woocommerce-pagination").html();i.html(r);for(var d=0;d<s.length;d++)e(s[d]).css("animation-delay",100*d+100+"ms");s.addClass("toffedassenFadeInUp toffedassenAnimation"),t.append(s),i.find(".page-numbers.next").data("requestRunning",!1),n.removeClass("loading"),a.$body.trigger("toffedassen_shop_ajax_loading_success"),i.find("li .page-numbers").hasClass("next")||i.addClass("loaded"),a.tooltip()})}})},a.viewPort=function(){"infinite"===toffedassenData.shop_nav_type&&a.$window.on("scroll",function(){a.$body.find("#toffedassen-shop-infinite-loading").is(":in-viewport")&&a.$body.find("#toffedassen-shop-infinite-loading a.next").click()}).trigger("scroll")},a.productImagesLightbox=function(){function o(a,o){var t={index:a,bgOpacity:.85,showHideOpacity:!0,mainClass:"pswp--minimal-dark",barsSize:{top:0,bottom:0},captionEl:!1,fullscreenEl:!1,shareEl:!1,tapToClose:!0,tapToToggleControls:!1},i=new PhotoSwipe(document.getElementById("pswp"),window.PhotoSwipeUI_Default,o,t);i.init(),i.listen("close",function(){e("#pswp .video-wrapper").find("iframe").each(function(){e(this).attr("src",e(this).attr("src"))}),e("#pswp .video-wrapper").find("video").each(function(){e(this)[0].pause()})})}var t=e(".woocommerce-product-gallery");if(t.length){if("no"==toffedassenData.product.lightbox)return void t.on("click","a.gallery-item-icon, a.video-item-icon",function(){return!1});var i=t.find(".woocommerce-product-gallery__image");t.on("click","a.gallery-item-icon",function(a){a.preventDefault();var n=[];i.each(function(){var a=e(this).find("a");n.push({src:a.attr("href"),w:a.find("img").attr("data-large_image_width"),h:a.find("img").attr("data-large_image_height")})}),o(t.find(".flex-active-slide").index(),n)}),t.on("click","a.video-item-icon",function(a){a.preventDefault();var t=[],i=e(this);t.push({html:i.data("href")});o(0,t)}),t.find(".woocommerce-product-gallery__image").on("click","a",function(t){if(t.preventDefault(),a.$body.hasClass("single-product-layout-1")||a.$body.hasClass("single-product-layout-2"))return!1;var n=[];i.each(function(){var a=e(this).find("a");n.push({src:a.attr("href"),w:a.find("img").attr("data-large_image_width"),h:a.find("img").attr("data-large_image_height")})}),o(i.index(e(this).closest(".woocommerce-product-gallery__image")),n)})}},a.stickyProductSummary=function(){if(e.fn.stick_in_parent&&a.$window.width()>767){e("div.product .sticky-summary").stick_in_parent({parent:".toffedassen-single-product-detail",offset_top:30})}},a.productThumbnail=function(){if("1"==toffedassenData.product.thumb_slider){var o=e(".woocommerce-product-gallery"),t=o.find(".flex-control-thumbs");o.imagesLoaded(function(){setTimeout(function(){if(!(t.length<1)){var e=o.data("columns");if(t.find("li").length>e)if("1"==toffedassenData.product.thumb_vertical){var i=!0;a.$window.width()<=480&&(i=!1),t.not(".slick-initialized").slick({rtl:"1"===toffedassenData.isRTL,slidesToShow:e,focusOnSelect:!0,slidesToScroll:1,vertical:i,infinite:!1,prevArrow:'<span class="icon-chevron-up slick-prev-arrow"></span>',nextArrow:'<span class="icon-chevron-down slick-next-arrow"></span>',responsive:[{breakpoint:768,settings:{slidesToShow:4}},{breakpoint:480,settings:{slidesToShow:3}}]}),t.find("li.slick-current").trigger("click")}else t.not(".slick-initialized").slick({rtl:"1"===toffedassenData.isRTL,slidesToShow:e,focusOnSelect:!0,slidesToScroll:1,infinite:!1,prevArrow:'<span class="icon-chevron-left slick-prev-arrow"></span>',nextArrow:'<span class="icon-chevron-right slick-next-arrow"></span>'});else t.addClass("no-slick")}},100)})}},a.productGalleryCarousel=function(){if("1"==toffedassenData.product.gallery_carousel){var a=e(".woocommerce div.product"),o=e("div.images",a),t=e(".woocommerce-product-gallery__wrapper",o);o.imagesLoaded(function(){var o={rtl:"1"===toffedassenData.isRTL,slidesToShow:1,slidesToScroll:1,infinite:!1,arrows:!0,prevArrow:'<span class="icon-arrow-left slick-prev-arrow"></span>',nextArrow:'<span class="icon-arrow-right slick-next-arrow"></span>'};if(a.hasClass("toffedassen-product-layout-5")){var i=t.children().length>2?1:0;o.centerMode=!0,o.initialSlide=i,o.centerPadding="26.8%",o.appendArrows=e(".slick-arrow-wrapper"),o.responsive=[{breakpoint:601,settings:{centerPadding:"0"}}]}a.hasClass("toffedassen-product-layout-6")&&(o.prevArrow='<span class="arrow_carrot-left slick-prev-arrow"></span>',o.nextArrow='<span class="arrow_carrot-right slick-next-arrow"></span>',o.variableWidth=!0,o.slidesToShow=2,o.responsive=[{breakpoint:1200,settings:{variableWidth:!1}},{breakpoint:768,settings:{slidesToShow:1}}]),t.not(".slick-initialized").slick(o)})}},a.productvariation=function(){var o=e(".variations_form");a.$body.on("tawcvs_initialized",function(){o.unbind("tawcvs_no_matching_variations"),o.on("tawcvs_no_matching_variations",function(a,t){a.preventDefault(),o.find(".woocommerce-variation.single_variation").show(),"undefined"!=typeof wc_add_to_cart_variation_params&&e(".variations_form").find(".single_variation").slideDown(200).html("<p>"+wc_add_to_cart_variation_params.i18n_no_matching_variations_text+"</p>")})}),e(".variations_form td.value").on("change","select",function(){var a=e(this).find("option:selected").text();e(this).closest("tr").find("td.label .toffedassen-attr-value").html(a)}),o.find("td.value").each(function(){e(this).find(".variation-selector").hasClass("hidden")?e(this).prev().addClass("show-label"):e(this).addClass("show-select")}),"undefined"!=typeof wc_add_to_cart_variation_params&&(o.on("found_variation.wc-variation-form",function(a,o){var t=e(".toffedassen-single-product-detail").find(".sku_wrapper").find(".sku");o.sku?t.wc_set_content(o.sku):t.wc_reset_content()}),o.on("reset_data",function(a,o){e(".toffedassen-single-product-detail").find(".sku_wrapper").find(".sku").wc_reset_content()}))},a.priceSlider=function(){if("undefined"==typeof woocommerce_price_slider_params)return!1;if(e(".catalog-sidebar").find(".widget_price_filter").length<=0&&e("#un-shop-topbar").find(".widget_price_filter").length<=0)return!1;e("input#min_price, input#max_price").hide(),e(".price_slider, .price_label").show();var a=e(".price_slider_amount #min_price").data("min"),o=e(".price_slider_amount #max_price").data("max"),t=parseInt(a,10),i=parseInt(o,10);""!=e(".price_slider_amount #min_price").val()&&(t=parseInt(e(".price_slider_amount #min_price").val(),10)),""!=e(".price_slider_amount #max_price").val()&&(i=parseInt(e(".price_slider_amount #max_price").val(),10)),e(document.body).bind("price_slider_create price_slider_slide",function(a,o,t){"left"===woocommerce_price_slider_params.currency_pos?(e(".price_slider_amount span.from").html(woocommerce_price_slider_params.currency_symbol+o),e(".price_slider_amount span.to").html(woocommerce_price_slider_params.currency_symbol+t)):"left_space"===woocommerce_price_slider_params.currency_pos?(e(".price_slider_amount span.from").html(woocommerce_price_slider_params.currency_symbol+" "+o),e(".price_slider_amount span.to").html(woocommerce_price_slider_params.currency_symbol+" "+t)):"right"===woocommerce_price_slider_params.currency_pos?(e(".price_slider_amount span.from").html(o+woocommerce_price_slider_params.currency_symbol),e(".price_slider_amount span.to").html(t+woocommerce_price_slider_params.currency_symbol)):"right_space"===woocommerce_price_slider_params.currency_pos&&(e(".price_slider_amount span.from").html(o+" "+woocommerce_price_slider_params.currency_symbol),e(".price_slider_amount span.to").html(t+" "+woocommerce_price_slider_params.currency_symbol)),e(document.body).trigger("price_slider_updated",[o,t])}),void 0!==e.fn.slider&&e(".price_slider").slider({range:!0,animate:!0,min:a,max:o,values:[t,i],create:function(){e(".price_slider_amount #min_price").val(t),e(".price_slider_amount #max_price").val(i),e(document.body).trigger("price_slider_create",[t,i])},slide:function(a,o){e("input#min_price").val(o.values[0]),e("input#max_price").val(o.values[1]),e(document.body).trigger("price_slider_slide",[o.values[0],o.values[1]])},change:function(a,o){e(document.body).trigger("price_slider_change",[o.values[0],o.values[1]])}})},a.singleProductCarousel=function(){if(a.$body.hasClass("single-product")){var e=a.$body.find(".up-sells"),o=e.find("ul.products"),t=e.data("columns"),i=a.$body.find(".related.products"),n=i.find("ul.products"),s=i.data("columns");o.not(".slick-initialized").slick({rtl:"1"===toffedassenData.isRTL,infinite:!1,slidesToShow:t,slidesToScroll:1,lazyLoad:"ondemand",arrows:!1,dots:!0,responsive:[{breakpoint:1200,settings:{slidesToShow:parseInt(t)>3?3:parseInt(t),slidesToScroll:1}},{breakpoint:992,settings:{slidesToShow:parseInt(t)>2?2:parseInt(t),slidesToScroll:1}},{breakpoint:481,settings:{slidesToShow:1,slidesToScroll:1}}]}),n.not(".slick-initialized").slick({rtl:"1"===toffedassenData.isRTL,infinite:!1,slidesToShow:s,slidesToScroll:1,arrows:!1,lazyLoad:"ondemand",dots:!0,responsive:[{breakpoint:1200,settings:{slidesToShow:parseInt(s)>3?3:parseInt(s),slidesToScroll:1}},{breakpoint:992,settings:{slidesToShow:parseInt(s)>2?2:parseInt(s),slidesToScroll:1}},{breakpoint:481,settings:{slidesToShow:1,slidesToScroll:1}}]})}},a.loginTab=function(){var a=e(".toffedassen-tabs"),o=a.find(".tabs-nav a"),t=a.find(".tabs-panel");o.on("click",function(o){o.preventDefault();var i=e(this),n=i.parent().index();i.hasClass("active")||(a.find(".tabs-nav a").removeClass("active"),i.addClass("active"),t.removeClass("active"),t.filter(":eq("+n+")").addClass("active"))})},a.productQuickView=function(){a.$body.on("click",".toffedassen-product-quick-view",function(o){o.preventDefault();var t=e(this),i=t.attr("href"),n=e("#quick-view-modal"),s=n.find(".product"),r=n.find(".product-summary"),d=n.find(".product-images-wrapper"),l=n.find(".modal-header .close-modal").first().clone();s.removeClass().addClass("invisible"),r.html(""),d.html(""),n.addClass("loading"),a.openModal(n),e.get(i,function(o){var t=e(o),i=t.find("#content").find(".entry-summary"),c=t.find("#content").find(".product-images-wrapper"),f=c.find("#product-thumbnails"),p=i.find(".variations_form"),u=t.find(".product").attr("class");f.remove(),s.addClass(u),r.html(i),c.find(".woocommerce-product-gallery").removeAttr("style"),d.html(c),s.find(".close-modal").length<1&&s.show().prepend(l);var h=d.find(".woocommerce-product-gallery__wrapper");n.removeClass("loading"),s.removeClass("invisible"),h.not(".slick-initialized").slick({rtl:"1"===toffedassenData.isRTL,slidesToShow:1,slidesToScroll:1,infinite:!1,prevArrow:'<span class="icon-chevron-left slick-prev-arrow"></span>',nextArrow:'<span class="icon-chevron-right slick-next-arrow"></span>'}),h.imagesLoaded(function(){h.addClass("loaded")}),h.find(".woocommerce-product-gallery__image").on("click","a",function(e){e.preventDefault()}),"undefined"!=typeof wc_add_to_cart_variation_params&&(p.wc_variation_form(),p.find(".variations select").change()),void 0!==e.fn.tawcvs_variation_swatches_form&&p.tawcvs_variation_swatches_form(),a.$body.on("tawcvs_initialized",function(){e(".variations_form").unbind("tawcvs_no_matching_variations"),e(".variations_form").on("tawcvs_no_matching_variations",function(a,o){a.preventDefault(),o.addClass("selected"),e(".variations_form").find(".woocommerce-variation.single_variation").show(),"undefined"!=typeof wc_add_to_cart_variation_params&&e(".variations_form").find(".single_variation").slideDown(200).html("<p>"+wc_add_to_cart_variation_params.i18n_no_matching_variations_text+"</p>")})}),a.productvariation()},"html")}),e("#quick-view-modal").on("click",function(o){var t=o.target;e(t).closest("div.product").length<=0&&a.closeModal()})},a.addWishlist=function(){e(".yith-wcwl-add-to-wishlist .yith-wcwl-add-button").on("click","a",function(){e(this).addClass("loading")}),a.$body.on("added_to_wishlist",function(){e(".yith-wcwl-add-to-wishlist .yith-wcwl-add-button a").removeClass("loading")})},a.showAddedToCartNotice=function(){e(document.body).on("added_to_cart",function(o,t,i,n){var s=n.attr("data-title")+" "+toffedassenData.l10n.notice_text;"notice"===toffedassenData.add_to_cart_action?a.addedToCartNotice("",s,!1,"success"):e("#icon-cart-contents").trigger("click")})},a.addedToCartNotice=function(a,o,t,i){"1"==toffedassenData.l10n.added_to_cart_notice&&e.fn.notify&&(a+='<a href="'+toffedassenData.l10n.cart_link+'" class="btn-button">'+toffedassenData.l10n.cart_text+"</a>",t&&(a='<div class="message-box">'+a+"</div>"),e.notify.addStyle("toffedassen",{html:'<div><i class="icon-checkmark-circle message-icon"></i><span data-notify-text/>'+a+'<span class="close icon-cross2"></span> </div>'}),e.notify(o,{autoHideDelay:toffedassenData.l10n.cart_notice_auto_hide,className:i,style:"toffedassen",showAnimation:"fadeIn",hideAnimation:"fadeOut"}))},a.addToCartAjax=function(){if("0"!=toffedassenData.add_to_cart_ajax){var o=!1;a.$body.on("click",".single_add_to_cart_button",function(t){var i=e(this),n=i.closest("form.cart");if(!i.closest("div.product").hasClass("product-type-external")&&n.length>0&&(t.preventDefault(),!i.hasClass("disabled")&&(i.addClass("loading"),!o))){o=!0;var s=n.serializeArray(),r=window.location.href;""!=i.val()&&s.push({name:i.attr("name"),value:i.val()}),e.ajax({url:window.location.href,method:"post",data:s,error:function(){window.location=r},success:function(t){if(t||(window.location=r),"undefined"!=typeof wc_add_to_cart_params&&"yes"===wc_add_to_cart_params.cart_redirect_after_add)return void(window.location=wc_add_to_cart_params.cart_url);e(document.body).trigger("updated_wc_div");var n="",s="success";e(t).find(".woocommerce-message").length>0&&(n=e(t).find(".woocommerce-message").html()),e(t).find(".woocommerce-error").length>0&&(n=e(t).find(".woocommerce-error").html(),s="error"),e(t).find(".woocommerce-info").length>0&&(n=e(t).find(".woocommerce-info").html()),i.removeClass("loading"),"notice"===toffedassenData.add_to_cart_action?n&&a.addedToCartNotice(n," ",!0,s):e(document.body).on("wc_fragments_refreshed",function(){e("#icon-cart-contents").trigger("click")}),o=!1}})}})}},a.productAttribute=function(){a.$body.on("click",".un-swatch-variation-image",function(a){a.preventDefault(),e(this).siblings(".un-swatch-variation-image").removeClass("selected"),e(this).addClass("selected");var o=e(this).data("src"),t=e(this).data("src-set"),i=e(this).parents("li.product").find(".un-product-thumbnail > a"),n=i.find("img").first(),s=n.first().width(),r=n.first().height();i.addClass("image-loading"),i.css({width:s,height:r,display:"block"}),n.attr("src",o),t&&n.attr("srcset",t),n.load(function(){i.removeClass("image-loading"),i.removeAttr("style")})})},a.portfolioMasonry=function(){a.$body.hasClass("portfolio-masonry")&&a.$body.imagesLoaded(function(){a.$body.find(".list-portfolio").isotope({itemSelector:".portfolio-wrapper",layoutMode:"masonry"})})},a.portfolioLoadingAjax=function(){a.$body.hasClass("toffedassen-portfolio-page")&&(a.$body.hasClass("portfolio-carousel")||e(".toffedassen-portfolio-page").find(".numeric-navigation").on("click",".page-numbers.next",function(o){if(o.preventDefault(),!e(this).data("requestRunning")){e(this).data("requestRunning",!0),e(this).addClass("loading");var t=e(this).parents(".numeric-navigation").prev(".list-portfolio"),i=e(this).parents(".numeric-navigation");e.get(e(this).attr("href"),function(o){for(var n=e(o).find(".list-portfolio").html(),s=e(o).find(".numeric-navigation").html(),r=e(n),d=0;d<r.length;d++)e(r[d]).css("animation-delay",100*d+100+"ms");r.addClass("toffedassenFadeIn toffedassenAnimation"),i.html(s),a.$body.hasClass("portfolio-masonry")?r.imagesLoaded(function(){t.append(r).isotope("insert",r),i.find(".page-numbers.next").removeClass("loading"),i.find(".page-numbers.next").data("requestRunning",!1)}):(t.append(r),i.find(".page-numbers.next").removeClass("loading"),i.find(".page-numbers.next").data("requestRunning",!1)),i.find(".page-numbers").hasClass("next")||i.addClass("loaded")})}}))},a.portfolioCarousel=function(){if(a.$body.hasClass("toffedassen-portfolio-page")&&a.$body.hasClass("portfolio-carousel")){var o=e(".swiper-container");if(o.length){var t,i=e(".list-portfolio .swiper-slide").length,n={loop:!1,speed:500,initialSlide:i>0?1:0,centeredSlides:!0,spaceBetween:100,scrollbar:{el:".swiper-scrollbar",hide:!1,draggable:!0},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},on:{init:function(){o.css("opacity",1)}},breakpoints:{767:{spaceBetween:30},1199:{spaceBetween:60}}},s=new Swiper(o,n);s.on("reachEnd",function(){var a=e(".portfolio-carousel .paging-navigation");if(a.length&&!t){var o=document.createElement("div");e(o).addClass("swiper-slide loading-placeholder").css({height:s.height-121}).append('<span class="spinner icon_loading toffedassen-spin su-icon"></span>'),s.appendSlide(o),s.update(),t=e.get(a.find("a").attr("href"),function(i){var n=e(".list-portfolio",i),r=n.children(),d=e(".portfolio-carousel .paging-navigation",n);d.length?a.find("a").replaceWith(e("a",d)):a.fadeOut(function(){a.remove()}),e(o).remove(),r.css({opacity:0}),s.appendSlide(r.addClass("swiper-slide").get()),s.update(),r.animate({opacity:1}),t=!1,e(document.body).trigger("toffedassen_portfolio_loaded",[r,!0])})}})}}},a.filterScroll=function(){
var o=e(".catalog-sidebar"),t=e(".toffedassen_widget_product_categories > ul",o),i=e(".toffedassen_attributes_filter > ul",o);a.filterElement(t),a.filterElement(i)},a.filterElement=function(e){var a=e.outerHeight(!0),o=e.data("height");a>o&&(e.addClass("scroll-enable"),e.css("height",o))},a.tooltip=function(){e("[data-rel=tooltip]").tooltip({offsetTop:-15})},e(function(){a.init()})}(jQuery);